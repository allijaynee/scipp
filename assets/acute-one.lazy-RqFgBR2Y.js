import{j as o,L as Ee,a as Oe,r as L,u as Be,c as Ye}from"./index-Doe4i1YD.js";import{r as Ue,S as K}from"./riskStyles-CsiW7X5w.js";import{u as _e}from"./useIsMobile-BZ0UkIOr.js";const xe=[];function Q(){return window==null?void 0:window.matchMedia("(pointer: coarse)").matches}function qe(){return window==null?void 0:window.matchMedia("(prefers-color-scheme: dark)").matches}async function Fe(e){await new Promise(t=>setTimeout(t,e))}function Ke(){return"fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function R(e,t){try{return typeof e=="string"?(t??document).querySelector(e):e}catch{return null}}function j(e,t){try{return typeof e=="string"?(t??document).querySelectorAll(e):e??xe}catch{return xe}}function v(e,t){return(e==null?void 0:e.classList.contains(t))??!1}function B(e,t){var n;return((n=e==null?void 0:e.tagName)==null?void 0:n.toLowerCase())===t}function G(e,t){var n;return((n=e==null?void 0:e.type)==null?void 0:n.toLowerCase())===t}function I(e,t){if(e instanceof NodeList)for(let n=0;n<e.length;n++)e[n].classList.add(t);else e==null||e.classList.add(t)}function O(e,t){if(e instanceof NodeList)for(let n=0;n<e.length;n++)e[n].classList.remove(t);else e==null||e.classList.remove(t)}function y(e,t,n,r=!0){e!=null&&e.addEventListener&&e.addEventListener(t,n,r)}function ce(e,t,n,r=!0){e!=null&&e.removeEventListener&&e.removeEventListener(t,n,r)}function Xe(e,t){var n;(n=t==null?void 0:t.parentNode)==null||n.insertBefore(e,t)}function ue(e){return e==null?void 0:e.previousElementSibling}function de(e){return e==null?void 0:e.nextElementSibling}function Z(e){return e==null?void 0:e.parentElement}function Je(e){const t=document.createElement("div");for(let n=0,r=Object.keys(e),f=r.length;n<f;n++){const s=r[n],i=e[s];t.setAttribute(s,i)}return t}function pe(){var e;(e=document.activeElement)==null||e.blur()}function Qe(e){return j('[data-ui="#'+e+'"]')}function et(e){return R('[data-ui="#'+e+'"]')}function tt(e){e.id&&v(e,"page")&&(e=et(e.id)??e);const t=Z(e);if(!v(t,"tabs")&&!v(t,"tabbed")&&!B(t,"nav"))return;const n=j("a",t);for(let r=0;r<n.length;r++)O(n[r],"active");!B(e,"button")&&!v(e,"button")&&!v(e,"chip")&&I(e,"active")}function Le(e){e.placeholder||(e.placeholder=" ")}function ot(e){const t=e.currentTarget,n=Z(t),r=R("input:not([type=file], [type=checkbox], [type=radio]), select, textarea",n);r&&r.focus()}function he(e){const t=e.currentTarget;V(t)}function fe(e){const t=e.currentTarget;V(t)}function nt(e){const t=e.currentTarget;ge(t)}function rt(e){const t=e.currentTarget;me(t)}function it(e){const t=e.currentTarget;ge(t,e)}function lt(e){const t=e.currentTarget;me(t,e)}function st(e){const t=e.currentTarget;Ie(t)}function at(e){var t;const n=e.currentTarget,r=R("input",Z(n));r&&(t=n.textContent)!=null&&t.includes("visibility")&&(r.type=r.type==="password"?"text":"password")}function ct(){const e=j(".field > label");for(let t=0;t<e.length;t++)y(e[t],"click",ot)}function ut(){const e=j(".field > input:not([type=file], [type=color], [type=range])");for(let t=0;t<e.length;t++)y(e[t],"focus",he),y(e[t],"blur",fe),V(e[t])}function dt(){const e=j(".field > select");for(let t=0;t<e.length;t++)y(e[t],"focus",he),y(e[t],"blur",fe)}function pt(){const e=j(".field > input[type=file]");for(let t=0;t<e.length;t++)y(e[t],"change",nt),ge(e[t])}function ht(){const e=j(".field > input[type=color]");for(let t=0;t<e.length;t++)y(e[t],"change",rt),me(e[t])}function ft(){const e=j(".field.textarea > textarea");for(let t=0;t<e.length;t++)y(e[t],"focus",he),y(e[t],"blur",fe),y(e[t],"input",st),Ie(e[t])}function gt(){const e=j("input[type=password] ~ :is(i, a)");for(let t=0;t<e.length;t++)y(e[t],"click",at)}function V(e){G(e,"number")&&!e.value&&(e.value=""),Le(e)}function ge(e,t){if((t==null?void 0:t.key)==="Enter"){const r=ue(e);if(!G(r,"file"))return;r.click();return}const n=de(e);G(n,"text")&&(n.value=e.files?Array.from(e.files).map(r=>r.name).join(", "):"",n.readOnly=!0,y(n,"keydown",it,!1),V(n))}function me(e,t){if((t==null?void 0:t.key)==="Enter"){const r=ue(e);if(!G(r,"color"))return;r.click();return}const n=de(e);G(n,"text")&&(n.readOnly=!0,n.value=e.value,y(n,"keydown",lt,!1),V(n))}function Ie(e){Le(e);const t=Z(e);t.removeAttribute("style"),v(t,"min")&&t.style.setProperty("--_size",`${Math.min(192,Math.max(e.scrollHeight,t.offsetHeight))}px`)}function mt(){ct(),ut(),dt(),pt(),ht(),ft(),gt()}function Te(e){const t=e.target;!B(t,"input")&&!B(t,"select")||(t.type==="range"?(t.focus(),Ze(t)):Re())}function yt(e){if(!Q())return;const t=e.target,n=Z(t);v(n,"vertical")&&document.body.classList.add("no-scroll")}function xt(e){if(!Q())return;const t=e.target,n=Z(t);v(n,"vertical")&&document.body.classList.remove("no-scroll")}function Re(){const e=document.body,t=j(".slider > input[type=range]");t.length?y(e,"input",Te,!1):ce(e,"input",Te,!1);for(let n=0;n<t.length;n++)Ze(t[n])}function Tt(){const e=getComputedStyle(document.documentElement).getPropertyValue("--size")||"16px";return e.includes("%")?parseInt(e)*16/100:e.includes("em")?parseInt(e)*16:parseInt(e)}function Ze(e){y(e,"focus",yt),y(e,"blur",xt);const t=Z(e),n=R("span",t),r=j("input",t);if(!r.length||!n)return;const f=Tt(),s=v(t,"max")?0:.25*f*100/r[0].offsetWidth,i=[],a=[];for(let k=0,W=r.length;k<W;k++){const A=parseFloat(r[k].min)||0,M=parseFloat(r[k].max)||100,Y=parseFloat(r[k].value)||0,U=(Y-A)*100/(M-A),_=s/2-s*U/100;i.push(U+_),a.push(Y)}let l=i[0],w=0,S=100-w-l,F=a[0],z=a[1]||0;r.length>1&&(l=Math.abs(i[1]-i[0]),w=i[1]>i[0]?i[0]:i[1],S=100-w-l,z>F&&(F=a[1]||0,z=a[0])),t.style.setProperty("--_start",`${w}%`),t.style.setProperty("--_end",`${S}%`),t.style.setProperty("--_value1",`'${F}'`),t.style.setProperty("--_value2",`'${z}'`)}function bt(){Re()}const C={light:"",dark:""};function ae(){var e;return(e=document==null?void 0:document.body)!=null&&e.classList.contains("dark")?"dark":"light"}function vt(){if(C.light&&C.dark)return C;const e=document.body,t=document.createElement("body");t.className="light",e.appendChild(t);const n=document.createElement("body");n.className="dark",e.appendChild(n);const r=getComputedStyle(t),f=getComputedStyle(n),s=["--primary","--on-primary","--primary-container","--on-primary-container","--secondary","--on-secondary","--secondary-container","--on-secondary-container","--tertiary","--on-tertiary","--tertiary-container","--on-tertiary-container","--error","--on-error","--error-container","--on-error-container","--background","--on-background","--surface","--on-surface","--surface-variant","--on-surface-variant","--outline","--outline-variant","--shadow","--scrim","--inverse-surface","--inverse-on-surface","--inverse-primary","--surface-dim","--surface-bright","--surface-container-lowest","--surface-container-low","--surface-container","--surface-container-high","--surface-container-highest"];for(let i=0,a=s.length;i<a;i++)C.light+=s[i]+":"+r.getPropertyValue(s[i])+";",C.dark+=s[i]+":"+f.getPropertyValue(s[i])+";";return e.removeChild(t),e.removeChild(n),C}function jt(e){const t=globalThis,n=document.body;if(!e||!t.materialDynamicColors)return vt();const r=ae();return e.light&&e.dark?(C.light=e.light,C.dark=e.dark,n.setAttribute("style",e[r]),e):t.materialDynamicColors(e).then(f=>{const s=i=>{let a="";for(let l=0,w=Object.keys(i),S=w.length;l<S;l++){const F=w[l],z=i[F],k=F.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();a+="--"+k+":"+z+";"}return a};return C.light=s(f.light),C.dark=s(f.dark),n.setAttribute("style",C[r]),C})}function ze(e){const t=globalThis,n=document.body;if(!n)return e;if(!e)return ae();e==="auto"&&(e=qe()?"dark":"light"),n.classList.remove("light","dark"),n.classList.add(e);const r=e==="light"?C.light:C.dark;return t.materialDynamicColors&&n.setAttribute("style",r),ae()}const J=[];function Ne(e){if(e.key==="Escape"){const t=e.currentTarget;Pe(t,t)}}function wt(e){(R("[autofocus]",e)??e).focus()}function Me(e,t){O(Qe(e.id),"active"),O(e,"active"),O(t,"active"),e.close(),J.pop();const n=J[J.length-1];n?n.focus():Q()&&document.body.classList.remove("no-scroll")}async function St(e,t,n,r){!B(r,"button")&&!v(r,"button")&&!v(r,"chip")&&I(r,"active"),I(t,"active"),I(e,"active"),n?e.showModal():e.show(),await Fe(90),n||y(e,"keydown",Ne,!1),J.push(e),Q()&&document.body.classList.add("no-scroll"),wt(e)}function Ct(e){const t=e.currentTarget,n=de(t);B(n,"dialog")&&Me(n,t)}async function Pe(e,t){pe();let n=ue(t);const r=v(t,"active")||t.open,f=v(t,"modal");f||ce(t,"keydown",Ne,!1),v(n,"overlay")||(n=Je({class:"overlay"}),Xe(n,t),await Fe(90)),f||y(n,"click",Ct,!1),r?Me(t,n):St(t,n,f,e)}let oe;function He(e){ce(document.body,"click",He);const t=e.target,n=j("menu.active");for(let r=0;r<n.length;r++)Ae(t,n[r],e)}function kt(e){setTimeout(()=>{const t=R(".field > input",e);t?t.focus():e.focus()},90)}function Ae(e,t,n){oe&&clearTimeout(oe),oe=setTimeout(()=>{y(document.body,"click",He),B(document.activeElement,"input")||pe();const r=v(t,"active"),f=(n==null?void 0:n.target)===e,s=!!e.closest("menu");if(!r&&s||r&&f){O(t,"active");return}O(j("menu.active"),"active"),I(t,"active"),kt(t)},90)}let D;function Et(e){const t=e.currentTarget;O(t,"active"),D&&clearTimeout(D)}function Ot(e,t){pe();const n=j(".snackbar.active");for(let r=0;r<n.length;r++)O(n[r],"active");I(e,"active"),y(e,"click",Et),D&&clearTimeout(D),t!==-1&&(D=setTimeout(()=>{O(e,"active")},t??6e3))}function Bt(e){const t=Z(e);t&&O(j(":scope > .page",t),"active"),I(e,"active")}function Ft(e){Lt(e)}function Lt(e){const t=e.currentTarget,n=t.getBoundingClientRect(),r=Math.max(n.width,n.height),f=r/2,s=e.clientX-n.left-f,i=e.clientY-n.top-f,a=document.createElement("div");a.className="ripple-js";const l=document.createElement("div");l.style.inlineSize=l.style.blockSize=`${r}px`,l.style.left=`${s}px`,l.style.top=`${i}px`,l.addEventListener("animationend",()=>{a.remove()}),a.appendChild(l),t.appendChild(a)}function It(){const e=j(".slow-ripple, .ripple, .fast-ripple");for(let t=0;t<e.length;t++)y(e[t],"pointerdown",Ft)}const $=globalThis;let ne,re;function be(){ne&&clearTimeout(ne),ne=setTimeout(async()=>await $e(),180)}async function ye(e,t,n,r){if(!t&&(t=R(e.getAttribute("data-ui")),!t)){e.classList.toggle("active");return}if(tt(e),B(t,"dialog")){await Pe(e,t);return}if(B(t,"menu")){Ae(e,t,r);return}if(v(t,"snackbar")){Ot(t,n);return}if(v(t,"page")){Bt(t);return}if(v(t,"active")){O(e,"active"),O(t,"active");return}I(t,"active")}function Rt(e){ye(e.currentTarget,null,null,e)}function Zt(e){e.key==="Enter"&&ye(e.currentTarget,null,null,e)}function De(){$.ui||re||!$.MutationObserver||(re=new MutationObserver(be),re.observe(document.body,{childList:!0,subtree:!0}),be())}function zt(){const e=j("[data-ui]");for(let t=0,n=e.length;t<n;t++)y(e[t],"click",Rt),B(e[t],"a")&&!e[t].getAttribute("href")&&y(e[t],"keydown",Zt)}function $e(e,t){if(e){if(e==="setup"){De();return}if(e==="guid")return Ke();if(e==="mode")return ze(t);if(e==="theme")return jt(t);const n=R(e);if(!n)return;ye(n,n,t)}zt(),mt(),bt(),It()}function Nt(){var e;if($.ui)return;const t=(e=$.document)==null?void 0:e.body;t&&!t.classList.contains("dark")&&!t.classList.contains("light")&&ze("auto"),De(),$.ui=$e}Nt();function ie(e){const t=!e.value||e.value==="";return o.jsxs("div",{className:"field label suffix border",children:[o.jsxs("select",{value:e.value,onChange:e.onChange,className:t?"placeholder-text":"selected-text",children:[o.jsx("option",{value:"",disabled:!0,children:e.placeholder||e.label}),o.jsx("option",{children:e.itemone}),o.jsx("option",{children:e.itemtwo}),o.jsx("option",{children:e.itemthree}),o.jsx("option",{children:e.itemfour})]}),o.jsx("label",{children:e.label}),o.jsx("i",{children:"arrow_drop_down"})]})}function P(e){return o.jsxs("div",{className:"field label border",children:[o.jsx("input",{type:"number",step:"any",value:e.value,onChange:e.onChange,disabled:e.disabled,placeholder:e.placeholder}),o.jsx("label",{children:e.label||"Value"})]})}function ve(e){const t=e.text==="Use Institution Specific STEMI Protocol",n=o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:16},children:o.jsxs("button",{onClick:e.onClick,style:{...e.style,margin:0,...t&&{backgroundColor:"#ff0000",color:"white",border:"none",padding:"20px 24px",minHeight:"56px",borderRadius:"12px",cursor:"pointer",width:"100%",maxWidth:"320px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",fontSize:"1.2rem",fontWeight:"600",lineHeight:"1.2",boxSizing:"border-box",transition:"all 0.2s ease-in-out",animation:"stemiPulse 1.5s infinite"}},onMouseEnter:r=>{t&&(r.target.style.transform="translateY(-2px)",r.target.style.filter="brightness(1.05)")},onMouseLeave:r=>{t&&(r.target.style.transform="translateY(0)",r.target.style.filter="brightness(1)")},children:[o.jsx("i",{style:{color:t?"white":"inherit",fontSize:"1.2em"},children:e.image}),o.jsx("span",{style:{color:t?"white":"inherit"},children:e.text})]})});return e.toPage?o.jsx(Ee,{to:e.toPage,children:n}):n}const je=({heartScore:e,heartScoreCalculated:t,heartScoreRef:n,onAction:r})=>{const f=Oe();let s="#7B2CBF",i="#f8f4ff",a="#E2B93B",l="Moderate Risk",w="⚠️";return e<4?(s="#219653",i="#219653",a="#219653",l="Low Risk",w="✓"):e>=4&&e<7?(s="#E2B93B",i="#E2B93B",a="#E2B93B",l="Moderate Risk",w="⚠️"):e>=7&&(s="#D7263D",i="#D7263D",a="#D7263D",l="High Risk",w="⚠️"),o.jsx("div",{ref:n,style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:32},children:t?o.jsxs("div",{style:{background:i,color:"#fff",borderRadius:16,fontSize:"2.2rem",fontWeight:700,padding:"24px 0 0 0",minHeight:"120px",width:"100%",maxWidth:"340px",boxShadow:`0 2px 12px ${s}22`,border:`2px solid ${s}`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:8,transition:"all 0.2s ease-in-out",boxSizing:"border-box",overflow:"hidden",marginBottom:24},children:[o.jsx("div",{style:{fontSize:"2.8rem",fontWeight:800,lineHeight:1,color:"#fff"},children:e}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:500,color:"#fff",marginTop:2,marginBottom:8},children:"HEART Score"}),o.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:o.jsxs("button",{className:"btn-standard",style:{background:a,color:"#fff",border:"2px solid #fff",borderRadius:"12px",padding:"16px 0",fontSize:"1.1rem",fontWeight:700,width:"92%",margin:"0 auto 16px auto",cursor:"pointer",boxShadow:"0 4px 18px 0 rgba(0,0,0,0.13)",display:"flex",alignItems:"center",justifyContent:"center",gap:10,transition:"all 0.2s",outline:"none"},onClick:r||(()=>{}),onMouseEnter:S=>{S.target.style.boxShadow="0 8px 24px 0 rgba(0,0,0,0.18)",S.target.style.filter="brightness(0.95)"},onMouseLeave:S=>{S.target.style.boxShadow="0 4px 18px 0 rgba(0,0,0,0.13)",S.target.style.filter="none"},children:[o.jsx("span",{style:{fontSize:"1.3em",animation:"iconBounce 1.5s infinite"},children:w}),l]})})]}):o.jsxs("button",{className:"btn-standard",style:{background:"#1976d2",color:"#fff",boxShadow:"0 2px 12px rgba(25, 118, 210, 0.15)",animation:"heartPulse 1.5s infinite",width:"100%",maxWidth:"300px",padding:"16px 24px",borderRadius:"12px",border:"none",fontSize:"1.1rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},onClick:()=>f({to:"/heart-score"}),onMouseEnter:S=>{S.target.style.boxShadow="0 4px 16px rgba(25, 118, 210, 0.25)"},onMouseLeave:S=>{S.target.style.boxShadow="0 2px 12px rgba(25, 118, 210, 0.15)"},children:[o.jsx("span",{style:{fontSize:"1.2em",animation:"iconBounce 1.5s infinite"},children:"❤️"}),"Calculate HEART Score"]})})},Mt={opacity:1,transform:"translateY(0)",transition:"opacity 0.25s cubic-bezier(.4,0,.2,1), transform 0.25s cubic-bezier(.4,0,.2,1)"},Pt={opacity:0,transform:"translateY(12px)",pointerEvents:"none",height:0},le=({children:e})=>{const[t,n]=L.useState(!1),{formData:r}=Be();return L.useEffect(()=>{r.heartScoreCalculated?n(!0):setTimeout(()=>n(!0),10)},[r.heartScoreCalculated]),o.jsx("div",{style:t?Mt:Pt,children:e})},Ge=({risk:e="moderate",children:t,onClick:n,style:r={},containerStyle:f={},...s})=>{const i=Ue[e];return o.jsx("div",{className:"btn-container",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"16px",...f},children:o.jsxs("button",{className:"btn-standard",style:{background:i.bg,color:i.text,border:"2px solid #fff",borderRadius:12,padding:"16px 0",fontSize:"1.1rem",fontWeight:700,width:"100%",maxWidth:"300px",margin:"0 auto",cursor:"pointer",boxShadow:i.shadow,display:"flex",alignItems:"center",justifyContent:"center",gap:10,transition:"all 0.2s",outline:"none",...r},onClick:n,onMouseEnter:a=>{a.target.style.boxShadow="0 8px 24px 0 rgba(0,0,0,0.18)",a.target.style.filter="brightness(0.95)"},onMouseLeave:a=>{a.target.style.boxShadow=i.shadow,a.target.style.filter="none"},...s,children:[o.jsx("span",{style:{fontSize:"1.3em",animation:"iconBounce 1.5s infinite",color:i.iconColor},children:i.icon}),t||(e==="low"?"Low Risk":e==="high"?"High Risk":"Moderate Risk")]})})},we=e=>o.jsx(Ge,{risk:"low",...e}),Se=e=>o.jsx(Ge,{risk:"high",...e}),X={BeckmanCoulter:["4","5","4","50","15"],Roche:["5","12","3","52","5"],Abbott:["4","5","2","64","6"],Siemens:["3","6","3","120","12"],IT:["0.04","0.08","-","0.08","-"]},Vt=Ye("/acute-one")({component:Ht}),H={opacity:1,transform:"translateY(0)",transition:"opacity 0.25s cubic-bezier(.4,0,.2,1), transform 0.25s cubic-bezier(.4,0,.2,1)"},se={opacity:0,transform:"translateY(12px)",pointerEvents:"none",height:0},Ce={opacity:1,transform:"translateY(0)",transition:"opacity 0.4s cubic-bezier(.4,0,.2,1), transform 0.4s cubic-bezier(.4,0,.2,1)",maxHeight:"1000px"},ke={opacity:0,transform:"translateY(16px)",transition:"opacity 0.3s cubic-bezier(.4,0,.2,1), transform 0.3s cubic-bezier(.4,0,.2,1)",maxHeight:"0px",overflow:"hidden",pointerEvents:"none"};function Ht(){const{formData:e,setFormData:t,resetFormData:n}=Be(),[r,f]=L.useState({tropZero:null,tropOne:null,tropThree:null}),[s,i]=L.useState(null),[a,l]=L.useState(null),w=L.useRef(null),[S,F]=L.useState(!1),z=Oe(),k=_e(),W=!!e.ecg&&!!e.age&&!!e.duration;L.useEffect(()=>{e.heartScoreCalculated&&setTimeout(()=>{var c;(c=w.current)==null||c.scrollIntoView({behavior:"smooth",block:"center"})},100)},[e.heartScoreCalculated]);const A=c=>x=>{const d=x.target.value;/^\d*\.?\d{0,2}$/.test(d)&&(t(h=>({...h,[c]:d})),c==="duration"&&e.tropZero&&(i(null),l(null),setTimeout(()=>{if(e.tropType==="it"){const h=parseFloat(e.tropZero),u=parseFloat(d),p=.04;h<p&&u>3?(i(1),l("tropZero"),f(m=>({...m,tropZero:1}))):h<p&&f(m=>({...m,tropZero:1}))}else if(e.tropType==="hs"){const h=parseFloat(e.tropZero),u=parseFloat(d),p=X[e.tropTest];if(p){const m=parseFloat(p[0]);h<m&&u>3?(i(1),l("tropZero"),f(g=>({...g,tropZero:1}))):h<m&&f(g=>({...g,tropZero:1}))}}},0)))},M=c=>x=>{const d=x.target.value;if(/^\d*\.?\d{0,2}$/.test(d)){if(t(u=>({...u,[c]:d})),d.trim()===""){i(null),l(null),c==="tropZero"?f({tropZero:null,tropOne:null,tropThree:null}):c==="tropOne"?f(u=>({...u,tropOne:null,tropThree:null})):c==="tropThree"&&f(u=>({...u,tropThree:null}));return}let h=null;e.tropType==="it"?h=U(c,d):e.tropType==="hs"&&(h=Y(c,d)),h!==null&&f(u=>({...u,[c]:h}))}},Y=(c,x)=>{const d=X[e.tropTest];console.log("Checking trop:",{field:c,trop:x,values:d,formData:e});const h=parseFloat(x);if(c==="tropZero"){const u=parseFloat(d[0]),p=parseFloat(d[3]);if(h<u)return parseFloat(e.duration)>3&&(console.log("Setting risk 1 for tropZero"),i(1),l("tropZero")),1;if(h>=u&&h<p)return console.log("Setting risk null for tropZero intermediate"),i(null),l(null),2;if(h>=p)return console.log("Setting risk 3 for tropZero"),i(3),l("tropZero"),3}else if(c==="tropOne"){const u=parseFloat(x),p=parseFloat(e.tropZero),m=u-p,g=parseFloat(d[2]),T=parseFloat(d[4]);console.log("=== ONE HOUR CALCULATION DEBUG ==="),console.log("tropValue:",u),console.log("initialValue (formData.tropZero):",p),console.log("delta:",m),console.log("deltaThreshold:",g),console.log("highDeltaThreshold:",T),console.log("values array:",d);const b=parseFloat(d[0]),N=parseFloat(d[3]);let E=null;return p<b?E=1:p>=b&&p<N?E=2:p>=N&&(E=3),console.log("Initial category calculated:",E),console.log("Delta < deltaThreshold?",m<g),m<g?E===1?(console.log("TRIGGERING LOW RISK for tropOne"),i(1),l("tropOne"),1):(console.log("Returning category 2 (intermediate) for tropOne"),i(null),l(null),2):m>=T?(console.log("TRIGGERING HIGH RISK for tropOne - delta exceeded threshold"),i(3),l("tropOne"),3):(console.log("Returning category 2 (intermediate) for tropOne - delta between thresholds"),i(null),l(null),2)}else if(c==="tropThree"){const u=parseFloat(x),p=parseFloat(e.tropZero),m=u-p,g=parseFloat(d[2]),T=parseFloat(d[4]),b=parseFloat(d[3]),N=parseFloat(d[0]);let E=null;return p<N?E=1:p>=N&&p<b?E=2:p>=b&&(E=3),m<g?E===1?(console.log("Setting risk 1 for tropThree"),i(1),l("tropThree"),1):(i(null),l(null),3):m>=T||u>=b?(console.log("Setting risk 3 for tropThree"),i(3),l("tropThree"),3):(console.log("Setting category 3 for tropThree intermediate case"),i(null),l(null),3)}},U=(c,x)=>{const d=X.IT,h=parseFloat(x),u=parseFloat(d[0]),p=parseFloat(d[3]);if(h<u)return c==="tropZero"&&parseFloat(e.duration)>3?(i(1),l(c),1):(c==="tropThree"&&(i(1),l(c)),1);if(h>=u&&h<=p)return i(null),l(null),2;if(h>p)return i(3),l(c),3},_=c=>{const x=c.target.value;x==="Option 4: STEMI"?(F(!0),setTimeout(()=>{t(d=>({...d,ecg:x,age:"",duration:"",tropTest:"",tropZero:"",tropType:"",tropOne:"",tropThree:""})),f({tropZero:null,tropOne:null,tropThree:null}),setTimeout(()=>{F(!1)},300)},300)):t(d=>({...d,ecg:x}))},ee=c=>x=>{const d=x.target.value;c==="tropType"?(i(null),l(null),f({tropZero:null,tropOne:null,tropThree:null}),t(h=>({...h,[c]:d,tropTest:"",tropZero:"",tropOne:"",tropThree:""}))):c==="tropTest"?(t(h=>({...h,[c]:d})),i(null),l(null),f({tropZero:null,tropOne:null,tropThree:null}),setTimeout(()=>{const h=(u,p)=>{const m=X[d];console.log("Checking trop with new assay:",{field:u,tropValue:p,values:m,newAssay:d});const g=parseFloat(p);if(u==="tropZero"){const T=parseFloat(m[0]),b=parseFloat(m[3]);if(g<T)return parseFloat(e.duration)>3&&(console.log("Setting risk 1 for tropZero with new assay"),i(1),l("tropZero")),1;if(g>=T&&g<b)return console.log("Setting risk null for tropZero intermediate with new assay"),i(null),l(null),2;if(g>=b)return console.log("Setting risk 3 for tropZero with new assay"),i(3),l("tropZero"),3}else if(u==="tropOne"){const T=parseFloat(m[1]),b=parseFloat(m[4]),N=parseFloat(m[6]);if(g<T){const E=parseFloat(e.tropZero);return g-E<N?(console.log("Setting risk 1 for tropOne delta with new assay"),i(1),l(null),1):(console.log("Setting risk null for tropOne with new assay"),i(null),l(null),2)}else{if(g>=T&&g<b)return console.log("Setting risk null for tropOne intermediate with new assay"),i(null),l(null),2;if(g>=b)return console.log("Setting risk 3 for tropOne with new assay"),i(3),l("tropOne"),3}}else if(u==="tropThree"){const T=parseFloat(m[2]),b=parseFloat(m[5]);if(g<T)return console.log("Setting risk 1 for tropThree with new assay"),i(1),l("tropThree"),1;if(g>=T&&g<b)return console.log("Setting risk null for tropThree intermediate with new assay"),i(null),l(null),2;if(g>=b)return console.log("Setting risk 3 for tropThree with new assay"),i(3),l("tropThree"),3}return null};if(e.tropZero){const u=h("tropZero",e.tropZero);u!==null&&f(p=>({...p,tropZero:u}))}if(e.tropOne){const u=h("tropOne",e.tropOne);u!==null&&f(p=>({...p,tropOne:u}))}if(e.tropThree){const u=h("tropThree",e.tropThree);u!==null&&f(p=>({...p,tropThree:u}))}},0)):t(h=>({...h,[c]:d}))};function We(c){var b;let x=0;c.history==="Low"?x=0:c.history==="Medium"?x=1:c.history==="High"&&(x=2);let d=0;c.ecg==="Option 1: Normal ECG"?d=0:c.ecg==="Option 2: Non-specific repolarization abnormalities"?d=1:c.ecg==="Option 3: ST segment depressions (not due to LBBB/LVH)"&&(d=2);let h=0;const u=parseInt(c.age);isNaN(u)||(u<45?h=0:u>=45&&u<=60?h=1:u>60&&(h=2));let p=0;const m=((b=c.riskFactors)==null?void 0:b.length)||0;m===0?p=0:m===1||m===2?p=1:m>=3&&(p=2);let g=0,T;return c.tropType==="hs"?(g=0,T="N/A"):(T=Math.max(parseFloat(c.tropZero)||0,parseFloat(c.tropThree)||0),T<.04?g=0:T>=.04&&T<=.08?g=1:T>.08&&(g=2)),x+d+h+p+g}const q=We(e);let te;return q>=4&&q<7&&(te=()=>z({to:"/alt-test"})),o.jsx("div",{className:"card-container",children:o.jsxs("div",{className:"card",children:[o.jsx("header",{className:"card-header",children:o.jsx(Ee,{to:"/",onClick:n,style:{textDecoration:"none"},children:o.jsx("h1",{children:"SCiPP Chest Pain Pathway"})})}),e.ecg==="Option 4: STEMI"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"card-content-grid",children:o.jsxs("div",{className:"left-col",style:{width:"100%"},children:[o.jsx(K,{children:"ECG"}),o.jsx("div",{style:{marginBottom:24,marginTop:20},children:o.jsx(ie,{value:e.ecg,onChange:_,itemone:"Option 1: Normal ECG",itemtwo:"Option 2: Non-specific repolarization abnormalities",itemthree:"Option 3: ST segment depressions (not due to LBBB/LVH)",itemfour:"Option 4: STEMI",label:o.jsx("span",{style:{color:"#222"},children:"Select ECG Result"}),placeholder:"Select ECG Result",style:{width:"100%",color:"#111"}})})]})}),o.jsx("div",{className:"stemi-btn-row",children:o.jsx(ve,{image:"warning",text:"Use Institution Specific STEMI Protocol",style:{backgroundColor:"#ff0000",color:"#fff",border:"none",borderRadius:"12px",cursor:"pointer",width:"100%",minHeight:"56px",fontSize:"1.1rem",fontWeight:600,transition:"all 0.2s ease-in-out",animation:"pulse 0.7s infinite",boxShadow:"0 2px 12px rgba(255, 0, 0, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"}})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"card-content-grid",children:[o.jsxs("div",{className:"left-col",children:[o.jsx(K,{children:"ECG"}),o.jsx("div",{style:{marginBottom:24,marginTop:20},children:o.jsx(ie,{value:e.ecg,onChange:_,itemone:"Option 1: Normal ECG",itemtwo:"Option 2: Non-specific repolarization abnormalities",itemthree:"Option 3: ST segment depressions (not due to LBBB/LVH)",itemfour:"Option 4: STEMI",label:o.jsx("span",{style:{color:"#222"},children:"Select ECG Result"}),placeholder:"Select ECG Result",style:{width:"100%",color:"#111"}})}),e.ecg==="Option 4: STEMI"?o.jsx("div",{style:{width:"100%",marginTop:24,display:"flex",justifyContent:"center"},children:o.jsx(ve,{image:"warning",text:"Use Institution Specific STEMI Protocol",style:{backgroundColor:"#ff0000",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",width:"100%",minHeight:"48px",fontSize:"1.1rem",fontWeight:600,opacity:S?0:1,transition:"all 0.2s ease-in-out",animation:"pulse 0.7s infinite",boxShadow:"0 2px 12px rgba(255, 0, 0, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"}})}):o.jsxs(o.Fragment,{children:[o.jsx("hr",{style:{border:0,borderTop:"1.5px solid #e0e0e0",margin:"40px 0"}}),o.jsx(K,{children:"Patient Info"}),o.jsx("div",{style:{marginBottom:32,marginTop:20},children:o.jsx(P,{value:e.age,onChange:A("age"),label:o.jsx("span",{style:{color:"#222"},children:"Patient Age (years)"})})}),o.jsx("div",{style:{marginBottom:32},children:o.jsx(P,{value:e.duration,onChange:A("duration"),label:o.jsx("span",{style:{color:"#222"},children:"Chest Pain Duration (hours)"})})})]})]}),o.jsxs("div",{className:"right-col",style:{position:"relative"},children:[k&&o.jsx("div",{className:"horizontal-divider","aria-hidden":"true"}),!W&&o.jsx("div",{className:"right-col-overlay",children:o.jsx("div",{className:"right-col-overlay-message",children:k?o.jsxs(o.Fragment,{children:["Please complete the above sections first.",o.jsx("br",{}),"(ECG, Age, and Chest Pain Duration)"]}):o.jsxs(o.Fragment,{children:["Please complete the left column first.",o.jsx("br",{}),"(ECG, Age, and Chest Pain Duration)"]})})}),o.jsxs("div",{className:W?"":"right-col-disabled",children:[o.jsx(K,{children:"Troponin Testing"}),e.ecg!=="Option 4: STEMI"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mcq-container",style:{marginBottom:32},children:[o.jsx("label",{style:{fontWeight:500,fontSize:"1rem",marginBottom:16,display:"block",color:"#222",paddingLeft:0},children:"Troponin Test Type"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},children:[o.jsxs("div",{onClick:()=>e.duration?ee("tropType")({target:{value:"hs"}}):null,style:{padding:"16px 20px",border:`2px solid ${e.tropType==="hs"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:e.tropType==="hs"?"#f8f4ff":"#fff",cursor:e.duration?"pointer":"not-allowed",opacity:e.duration?1:.5,transition:"all 0.2s ease-in-out",display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",border:`2px solid ${e.tropType==="hs"?"#7B2CBF":"#ccc"}`,backgroundColor:e.tropType==="hs"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.tropType==="hs"&&o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#fff"}})}),o.jsx("span",{style:{color:e.tropType==="hs"?"#7B2CBF":"#222",fontWeight:e.tropType==="hs"?"bold":"normal",fontSize:"1rem"},children:"HS-Troponin (ng/L)"})]}),o.jsxs("div",{onClick:()=>e.duration?ee("tropType")({target:{value:"it"}}):null,style:{padding:"16px 20px",border:`2px solid ${e.tropType==="it"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:e.tropType==="it"?"#f8f4ff":"#fff",cursor:e.duration?"pointer":"not-allowed",opacity:e.duration?1:.5,transition:"all 0.2s ease-in-out",display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",border:`2px solid ${e.tropType==="it"?"#7B2CBF":"#ccc"}`,backgroundColor:e.tropType==="it"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.tropType==="it"&&o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#fff"}})}),o.jsx("span",{style:{color:e.tropType==="it"?"#7B2CBF":"#222",fontWeight:e.tropType==="it"?"bold":"normal",fontSize:"1rem"},children:"Troponin I/T (ng/mL)"})]})]}),o.jsx("div",{style:!e.tropType&&!e.heartScoreCalculated&&!s?{...H,marginTop:12}:se,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Select a Troponin test type to continue…"]})})]}),o.jsx("div",{style:e.tropType==="hs"?Ce:ke,children:o.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[o.jsx(ie,{value:e.tropTest,onChange:ee("tropTest"),itemone:"BeckmanCoulter",itemtwo:"Roche",itemthree:"Abbott",itemfour:"Siemens",label:o.jsx("span",{style:{color:"#222"},children:"Select Troponin Assay"}),style:{color:"#222",width:"100%"}}),o.jsx("div",{style:e.tropType==="hs"&&!e.tropTest&&!e.heartScoreCalculated&&!s?H:se,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:8,display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Select a Troponin assay to continue…"]})})]})}),o.jsx("div",{style:e.tropType==="hs"&&e.tropTest||e.tropType==="it"?Ce:ke,children:o.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[o.jsx(P,{value:e.tropZero,onChange:M("tropZero"),disabled:!e.tropType,label:o.jsxs("span",{style:{color:"#222"},children:["Initial Troponin Level (",e.tropType==="hs"?"ng/L":"ng/mL",")"]})}),o.jsx("div",{style:e.tropType&&(e.tropType!=="hs"||e.tropTest)&&!e.tropZero&&!e.heartScoreCalculated&&!s?H:se,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]})}),e.tropZero&&(r.tropZero===1||r.tropZero===2||e.heartScoreCalculated)&&o.jsxs(o.Fragment,{children:[e.tropType==="hs"&&!(s&&a==="tropZero")?o.jsx(le,{children:o.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[o.jsx(P,{value:e.tropOne,onChange:M("tropOne"),label:o.jsx("span",{style:{color:"#222"},children:"Troponin at 1 Hour (ng/L)"})}),!e.tropOne&&!e.heartScoreCalculated&&!s&&o.jsx("div",{style:H,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]})}):e.tropType==="it"&&(!s||a==="tropThree")&&!(s&&a==="tropZero")?o.jsx(le,{children:o.jsxs("div",{style:{marginBottom:32,width:"100%"},children:[o.jsx(P,{value:e.tropThree,onChange:M("tropThree"),label:o.jsx("span",{style:{color:"#222"},children:"Troponin at 3 Hours (ng/mL)"})}),!e.tropThree&&!e.heartScoreCalculated&&!s&&o.jsx("div",{style:H,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Enter a value above to continue Troponin testing…"]})})]})}):null,e.tropType==="hs"&&e.tropOne&&!(s&&(a==="tropZero"||a==="tropOne"))&&(r.tropOne===2||e.heartScoreCalculated)?o.jsx(le,{children:o.jsxs("div",{style:{marginBottom:0,width:"100%"},children:[o.jsx(P,{value:e.tropThree,onChange:M("tropThree"),label:o.jsx("span",{style:{color:"#222"},children:"Troponin at 3 Hours (ng/L)"})}),!e.tropThree&&!e.heartScoreCalculated&&!s&&o.jsx("div",{style:H,children:o.jsxs("div",{style:{color:"#888",fontSize:"0.97rem",marginTop:2,display:"flex",alignItems:"center",paddingLeft:4},children:[o.jsx("span",{style:{fontSize:"1.2em",opacity:.7,marginRight:6},children:"▼"}),"Continue to HEART Score…"]})}),e.tropThree&&(r.tropThree===3||e.heartScoreCalculated)&&s===null&&null]})}):e.tropType==="it"&&e.tropThree&&(r.tropThree===2||e.heartScoreCalculated)&&!s&&null]})]}),k&&(s===1&&(a==="tropZero"||a==="tropOne"||a==="tropThree")?o.jsx("div",{style:{width:"100%",marginTop:32},children:o.jsx(we,{style:{width:"100%"}})}):s===3&&(a==="tropZero"||a==="tropOne"||a==="tropThree")?o.jsx("div",{style:{width:"100%",marginTop:32},children:o.jsx(Se,{style:{width:"100%"}})}):e.tropThree&&(r.tropThree===3||e.heartScoreCalculated)&&s===null||e.tropType==="it"&&e.tropThree&&(r.tropThree===2||e.heartScoreCalculated)&&!s?o.jsx("div",{style:{width:"100%",marginTop:32},children:o.jsx(je,{heartScore:q,heartScoreCalculated:e.heartScoreCalculated,heartScoreRef:w,onAction:te,style:{width:"100%"}})}):null)]})]})]}),!k&&(s===1&&(a==="tropZero"||a==="tropOne"||a==="tropThree")?o.jsx("div",{className:"bottom-action-btn-container",children:o.jsx(we,{style:{width:"100%"}})}):s===3&&(a==="tropZero"||a==="tropOne"||a==="tropThree")?o.jsx("div",{className:"bottom-action-btn-container",children:o.jsx(Se,{style:{width:"100%"}})}):e.tropThree&&(r.tropThree===3||e.heartScoreCalculated)&&s===null||e.tropType==="it"&&e.tropThree&&(r.tropThree===2||e.heartScoreCalculated)&&!s?o.jsx("div",{className:"bottom-action-btn-container",children:o.jsx(je,{heartScore:q,heartScoreCalculated:e.heartScoreCalculated,heartScoreRef:w,onAction:te,style:{width:"100%"}})}):null)]})]})})}const Ve=document.createElement("style");Ve.textContent=`
    @keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);
        }
        70% {
            box-shadow: 0 0 0 10px rgba(255, 0, 0, 0);
        }
        100% {
            box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);
        }
    }
`;document.head.appendChild(Ve);export{Vt as Route};

import{j as e,c as B,u as D,a as R,r as h,L as A}from"./index-Doe4i1YD.js";import{u as F}from"./useIsMobile-BZ0UkIOr.js";function I({checked:n,onChange:l,label:o}){return e.jsx("div",{className:"card-checkbox",onClick:l,tabIndex:0,role:"checkbox","aria-checked":n,style:{cursor:"pointer",userSelect:"none"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,width:"100%",margin:0,cursor:"pointer"},children:[e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:18,height:18,minWidth:18,minHeight:18,borderRadius:4,border:n?"1.5px solid #7B2CBF":"1px solid #ccc",background:n?"#ede3fa":"#fff",transition:"all 0.16s",boxShadow:n?"0 1px 2px #7B2CBF0A":"none",marginRight:0,flexShrink:0,position:"relative",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:n,tabIndex:-1,readOnly:!0,style:{opacity:0,width:18,height:18,position:"absolute",margin:0,cursor:"pointer"}}),n&&e.jsx("svg",{width:"10",height:"10",viewBox:"0 0 20 20",fill:"none",style:{display:"block",pointerEvents:"none"},children:e.jsx("polyline",{points:"4,11 9,16 16,5",style:{fill:"none",stroke:"#7B2CBF",strokeWidth:1.7,strokeLinecap:"round",strokeLinejoin:"round"}})})]}),e.jsx("span",{className:"criteria-label-text",style:{flex:1,wordBreak:"break-word",cursor:"pointer"},children:o})]})})}const W=B("/alt-test")({component:H});function H(){const{formData:n,setFormData:l,resetFormData:o}=D(),j=R(),C=F(),s=n.stressTestCriteria,N=a=>{const r=s.map((t,m)=>m===a?{...t,checked:!t.checked}:t);l(t=>({...t,stressTestCriteria:r}))},p=[{name:"Coronary CT Angiography (CCTA)",type:"imaging"},{name:"Treadmill Echocardiogram",type:"treadmill"},{name:"Dobutamine Stress Echocardiogram",type:"dobutamine"},{name:"Treadmill Nuclear Perfusion (SPECT)",type:"treadmill"},{name:"Vasodilator Nuclear Perfusion (SPECT)",type:"vasodilator"},{name:"Dobutamine Nuclear Perfusion (SPECT)",type:"dobutamine"},{name:"Vasodilator Nuclear Perfusion (PET)",type:"vasodilator"},{name:"Vasodilator Stress MRI",type:"vasodilator"},{name:"Cardiology Consultation",type:"consultation"}],c=a=>{var u,f,x,y,g,k,v,b;const r=(u=s.find(i=>i.key==="cad"))==null?void 0:u.checked,t=(f=s.find(i=>i.key==="irreg"))==null?void 0:f.checked,m=(x=s.find(i=>i.key==="iodinatedAllergy"))==null?void 0:x.checked,T=(y=s.find(i=>i.key==="noHold"))==null?void 0:y.checked,P=(g=s.find(i=>i.key==="cannotWalk"))==null?void 0:g.checked,S=(k=s.find(i=>i.key==="leftBlock"))==null?void 0:k.checked,w=(v=s.find(i=>i.key==="severeDisease"))==null?void 0:v.checked,E=(b=s.find(i=>i.key==="block"))==null?void 0:b.checked;return!(n.age>80&&a.type==="imaging"||r&&a.type==="imaging"||t&&(a.type==="imaging"||!(a.name.includes("SPECT")||a.name.includes("PET")||a.type==="consultation"))||m&&a.type==="imaging"||T&&a.type==="imaging"||P&&a.type==="treadmill"||S&&a.name==="Treadmill Nuclear Perfusion (SPECT)"||w&&a.type==="vasodilator"||E&&a.type==="vasodilator")};h.useEffect(()=>{const a=p.filter(r=>c(r));l(r=>({...r,recommendedStressTests:a}))},[s,n.age]);const d=h.useRef(null);return h.useEffect(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})},[]),e.jsx("div",{className:"card-container",children:e.jsxs("div",{className:"card",children:[e.jsx("header",{className:"card-header",children:e.jsx(A,{to:"/",onClick:o,style:{textDecoration:"none"},children:e.jsx("h1",{children:"SCiPP Chest Pain Pathway"})})}),e.jsx("div",{ref:d,className:"card-section",children:e.jsxs("div",{className:"stress-test-row",children:[e.jsxs("div",{className:"criteria-col panel",children:[e.jsx("div",{className:"panel-header",children:"Stress Test Criteria"}),e.jsx("div",{className:"panel-subtitle",children:"Select all that apply to the patient"}),e.jsx("div",{style:{marginBottom:0,overflow:"visible",minHeight:"1px",display:"block"},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:0,minHeight:"1px"},children:s.map((a,r)=>e.jsx(I,{label:a.label,checked:a.checked,onChange:()=>N(r)},a.key))})})]}),!C&&e.jsx("div",{className:"arrow-col",children:e.jsx("span",{className:"animated-arrow","aria-hidden":"true",children:"→"})}),e.jsxs("div",{className:"suggested-col panel",children:[e.jsx("div",{className:"panel-header",children:"Stress Tests Suggested"}),e.jsx("div",{className:"panel-subtitle",children:"Based on selected criteria"}),e.jsx("div",{style:{marginBottom:0},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:0},children:p.map(a=>e.jsx("div",{className:`card-hover${c(a)?"":" card-disabled"}`,"aria-disabled":!c(a),children:a.name},a.name))})})]})]})}),e.jsx("div",{className:"card-section",children:e.jsxs("button",{className:"card-button card-hover",style:{background:"#1976d2",color:"#fff",boxShadow:"0 2px 12px rgba(25, 118, 210, 0.15)",animation:"heartPulse 1.5s infinite"},onClick:()=>j({to:"/clinical-notes"}),children:[e.jsx("span",{style:{fontSize:"1.3em",marginRight:6},children:"✓"}),"Complete Pathway"]})})]})})}export{W as Route};

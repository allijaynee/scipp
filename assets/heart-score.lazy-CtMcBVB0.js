import{c as M,u as P,a as $,r as m,j as e,L as O}from"./index-Doe4i1YD.js";import{S as v,r as V}from"./riskStyles-CsiW7X5w.js";const Y=M("/heart-score")({component:E});function E(){var w;const{formData:i,setFormData:u,resetFormData:H}=P(),R=$(),C=["Hypertension","Diabetes Mellitus","Obstructive CAD","Non-Obstructive CAD","Smoking History (>3mo Usage)","Hypercholesterolemia","Family History of CVD","Obesity (BMI > 30 kg/m2)","Peripheral Arterial Disease","History of Atherosclerotic Disease"],z=C.map(o=>{var s;return{label:o,checked:(s=i.riskFactors)==null?void 0:s.includes(o)}}),N=o=>{var g;const s=C[o];let t;(g=i.riskFactors)!=null&&g.includes(s)?t=i.riskFactors.filter(n=>n!==s):t=[...i.riskFactors||[],s],u(n=>({...n,riskFactors:t}))},d=((w=i.riskFactors)==null?void 0:w.length)||0,y=o=>{u(s=>({...s,history:o}))},L=()=>{u(o=>({...o,heartScoreCalculated:!0,heartScore:f})),R({to:"/acute-one"})},T=["Retrosternal pain or pressure","Radiation to jaw, left shoulder, or arms","Duration 5-15 minutes","Initiated by exercise, cold, or emotion","Perspiration during symptoms","Nausea or vomiting","Relief with nitrates within minutes","Patient recognizes symptoms as similar to previous cardiac event"],W=["Well localized pain","Sharp pain","Non-exertional pain","No diaphoresis","No nausea or vomiting","Reproducible with palpation"],[B,D]=m.useState(!1),[S,A]=m.useState(!1),k=({title:o,features:s,isExpanded:t,onToggle:g})=>{const n=t?s:s.slice(0,3);return e.jsxs("div",{onClick:g,style:{border:`2px solid ${t?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",marginBottom:"16px",overflow:"hidden",backgroundColor:t?"#f8f4ff":"#f0ebff",transition:"all 0.2s ease-in-out",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",cursor:"pointer"},children:[e.jsxs("div",{style:{padding:"16px 20px",backgroundColor:"transparent",fontSize:"1rem",fontWeight:"600",color:t?"#7B2CBF":"#333",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"all 0.2s ease-in-out",userSelect:"none"},children:[e.jsx("span",{children:o}),e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",border:`2px solid ${t?"#7B2CBF":"#ccc"}`,backgroundColor:t?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease-in-out"},children:e.jsx("span",{style:{fontSize:"0.7rem",color:t?"#fff":"#666",transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease-in-out",fontWeight:"bold"},children:"▼"})})]}),e.jsxs("div",{style:{maxHeight:t?"500px":"180px",overflow:"hidden",transition:"max-height 0.4s ease-in-out"},children:[t&&e.jsx("div",{style:{height:"1px",backgroundColor:"#7B2CBF",margin:"0 20px",opacity:.3}}),e.jsxs("div",{style:{padding:"16px 20px",paddingTop:"16px",paddingBottom:"20px"},children:[n.map((I,F)=>e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:F===n.length-1?0:"12px",fontSize:"0.9rem",lineHeight:"1.4",color:"#555"},children:[e.jsx("span",{style:{color:"#7B2CBF",marginRight:"12px",marginTop:"2px",fontSize:"0.8rem",fontWeight:"bold"},children:"•"}),e.jsx("span",{children:I})]},F)),!t&&s.length>3&&e.jsx("div",{style:{marginTop:"16px",textAlign:"center"},children:e.jsx("span",{style:{color:"#7B2CBF",fontSize:"0.75rem",fontWeight:"400",fontStyle:"italic"},children:"Read More"})})]})]})]})};let c=0;i.history=="Low"?c=0:i.history=="Medium"?c=1:i.history=="High"&&(c=2);let h=0;i.ecg==="Option 1: Normal ECG"?h=0:i.ecg==="Option 2: Non-specific repolarization abnormalities"?h=1:i.ecg==="Option 3: ST segment depressions (not due to LBBB/LVH)"&&(h=2);let p=0;i.age<45?p=0:i.age>=45&&i.age<=60?p=1:i.age>60&&(p=2);let x=0;d==0?x=0:d==1||d==2?x=1:d>=3&&(x=2);let l=0,r;i.tropType==="hs"?(l=0,r="N/A"):(r=Math.max(i.tropZero,i.tropThree),r<.04?l=0:r>=.04&&r<=.08?l=1:r>=.08&&(l=2));let f=c+h+p+x+l,j="moderate";f<4?j="low":f>=7&&(j="high");const a=V[j],b=m.useRef(null);return m.useEffect(()=>{b.current&&b.current.scrollIntoView({behavior:"smooth"})},[]),e.jsx("div",{className:"card-container",children:e.jsxs("div",{className:"card",children:[e.jsx("header",{className:"card-header",children:e.jsx(O,{to:"/",onClick:H,style:{textDecoration:"none"},children:e.jsx("h1",{children:"SCiPP Chest Pain Pathway"})})}),e.jsxs("div",{ref:b,className:"card-section",children:[e.jsx(v,{children:"HEART Score Calculation"}),(i.age||i.tropType==="it"&&r&&r!=="N/A")&&e.jsxs("div",{className:"card-section",style:{background:"#f8f9fa",borderRadius:"12px",padding:"16px 20px",border:"1px solid #e8e8e8"},children:[e.jsx("div",{style:{color:"#666",fontSize:"0.8rem",marginBottom:12,fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Patient Summary"}),e.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap"},children:[i.age&&e.jsxs("div",{style:{minWidth:"120px"},children:[e.jsx("div",{style:{color:"#666",fontSize:"0.8rem",marginBottom:4},children:"Age"}),e.jsxs("div",{style:{color:"#7B2CBF",fontWeight:"bold",fontSize:"1.1rem"},children:[i.age," years"]})]}),i.tropType==="it"&&r&&r!=="N/A"&&e.jsxs("div",{style:{minWidth:"120px"},children:[e.jsx("div",{style:{color:"#666",fontSize:"0.8rem",marginBottom:4},children:"Troponin I/T"}),e.jsxs("div",{style:{color:"#7B2CBF",fontWeight:"bold",fontSize:"1.1rem"},children:[r," ng/mL"]})]})]})]})]}),e.jsx("hr",{className:"card-divider"}),e.jsxs("div",{className:"card-section",children:[e.jsx(v,{children:"Suspicion Level from Patient History"}),e.jsxs("div",{style:{marginTop:20},children:[e.jsxs("div",{className:"suspicion-panels-row",children:[e.jsx(k,{title:"High-Suspicion Features",features:T,isExpanded:B,onToggle:()=>D(!B)}),e.jsx(k,{title:"Low-Suspicion Features",features:W,isExpanded:S,onToggle:()=>A(!S)})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"16px",marginBottom:"32px"},children:e.jsxs("div",{style:{width:"100%"},children:[e.jsx("label",{style:{fontWeight:500,fontSize:"0.9rem",marginBottom:12,display:"block",color:"#666",textAlign:"center"},children:"Select Suspicion Level"}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"8px",width:"100%"},children:[e.jsxs("div",{onClick:()=>y("Low"),style:{flex:1,padding:"12px 8px",border:`2px solid ${i.history==="Low"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:i.history==="Low"?"#f8f4ff":"#fff",cursor:"pointer",transition:"all 0.2s ease-in-out",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",border:`2px solid ${i.history==="Low"?"#7B2CBF":"#ccc"}`,backgroundColor:i.history==="Low"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i.history==="Low"&&e.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",backgroundColor:"#fff"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{color:i.history==="Low"?"#7B2CBF":"#222",fontWeight:i.history==="Low"?"bold":"normal",fontSize:"0.85rem",marginBottom:"2px"},children:"Low"}),e.jsx("div",{style:{color:"#666",fontSize:"0.7rem",lineHeight:"1.2"},children:"Slightly suspicious"})]})]}),e.jsxs("div",{onClick:()=>y("Medium"),style:{flex:1,padding:"12px 8px",border:`2px solid ${i.history==="Medium"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:i.history==="Medium"?"#f8f4ff":"#fff",cursor:"pointer",transition:"all 0.2s ease-in-out",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",border:`2px solid ${i.history==="Medium"?"#7B2CBF":"#ccc"}`,backgroundColor:i.history==="Medium"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i.history==="Medium"&&e.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",backgroundColor:"#fff"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{color:i.history==="Medium"?"#7B2CBF":"#222",fontWeight:i.history==="Medium"?"bold":"normal",fontSize:"0.85rem",marginBottom:"2px"},children:"Medium"}),e.jsx("div",{style:{color:"#666",fontSize:"0.7rem",lineHeight:"1.2"},children:"Moderately suspicious"})]})]}),e.jsxs("div",{onClick:()=>y("High"),style:{flex:1,padding:"12px 8px",border:`2px solid ${i.history==="High"?"#7B2CBF":"#e0e0e0"}`,borderRadius:"12px",backgroundColor:i.history==="High"?"#f8f4ff":"#fff",cursor:"pointer",transition:"all 0.2s ease-in-out",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",border:`2px solid ${i.history==="High"?"#7B2CBF":"#ccc"}`,backgroundColor:i.history==="High"?"#7B2CBF":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:i.history==="High"&&e.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",backgroundColor:"#fff"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{color:i.history==="High"?"#7B2CBF":"#222",fontWeight:i.history==="High"?"bold":"normal",fontSize:"0.85rem",marginBottom:"2px"},children:"High"}),e.jsx("div",{style:{color:"#666",fontSize:"0.7rem",lineHeight:"1.2"},children:"Highly suspicious"})]})]})]})]})})]})]}),e.jsx("hr",{className:"card-divider"}),e.jsxs("div",{className:"card-section",children:[e.jsx(v,{children:"Risk Factors"}),e.jsx("div",{style:{marginTop:16,marginBottom:24,padding:"12px 16px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:e.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666",lineHeight:"1.4"},children:"Select all risk factors that apply to this patient. You can select multiple options by clicking on them."})}),e.jsx("div",{style:{marginTop:20,marginBottom:32},children:e.jsx("div",{className:"risk-tags",style:{display:"flex",flexWrap:"wrap",gap:"6px",padding:"2px"},children:z.map((o,s)=>e.jsxs("div",{onClick:()=>N(s),className:"card-tag",style:{backgroundColor:o.checked?"#7B2CBF":"#f0f0f0",color:o.checked?"#fff":"#333",borderColor:o.checked?"#7B2CBF":"#ddd"},children:[e.jsx("span",{children:o.label}),o.checked&&e.jsx("span",{style:{fontSize:"0.65rem",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"50%",width:"14px",height:"14px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"×"})]},s))})})]}),e.jsx("div",{className:"card-section",style:{display:"flex",justifyContent:"center"},children:e.jsxs("div",{style:{background:a.bg,border:`2px solid ${a.border}`,borderRadius:"16px",padding:"24px 0",minHeight:"80px",width:"100%",maxWidth:"340px",boxShadow:a.shadow,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,transition:"all 0.2s ease-in-out",boxSizing:"border-box"},children:[e.jsx("div",{style:{fontSize:"2.8rem",fontWeight:800,lineHeight:1,color:a.text},children:f}),e.jsx("div",{style:{fontSize:"1.2rem",fontWeight:500,color:a.text,marginTop:2},children:"HEART Score"})]})}),e.jsx("div",{className:"card-section",style:{display:"flex",justifyContent:"center"},children:e.jsx("button",{onClick:L,className:"card-button card-hover",style:{background:"linear-gradient(135deg, #7B2CBF 0%, #9D4EDD 100%)",color:"#fff",boxShadow:"0 6px 20px rgba(123, 44, 191, 0.3)",maxWidth:"340px"},children:"Complete HEART Score"})})]})})}export{Y as Route};
